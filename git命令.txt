
1. 改变文件的访问次数，需要触发元数据通知上报
2. 文件移动时间触发元数据通知上报

3. 元数据上报目前是inode：16进制的，元数据对账 目前是10进制 格式不统一，需要统一
   存力调用存储侧的接口中的inode也是十进制。
  

xunrongxuan
18660135438

14---


目前元数据对账
1. 单线程遍历目录/子目录路径 到公共结构中。
2. 多线程 分摊 公共结构中，调用stat命令获取文件信息
3. 单线 把内容填 内容写入到文件 

文件修复
4. 一个记录开启一个线程方式。

对账时候参数：参数 直接填入 共享目录（整个文件系统）

步骤1 和4 需要优化。








闹钟响起，迅速穿一件上衣2分钟完成




.开发调试、自测
2.SMB单进程开发和性能测试

1.五人的 UV4 开发集群环境
2.上市问题回归环境
3.GFS新项目







bbdown  "https://www.bilibili.com/bangumi/play/ep756204?spm_id_from=333.337.0.0&from_spmid=666.25.episode.0" --use-aria2c  -ia


元数据管理  
1. 元数据上报：缺失三个字段不好获取：文件访问次数，文件移动时间 和node_id 扩展属性。
2. 元数据对账  今天开发完毕 性能压测一次
3  元数据修复: 还没有开发完成，缺失 从存力平台下载多个文件 


plan4：电脑和电脑包分离，电脑放公司，电脑包放家里 【难度：简单 ，只要想到就做到】


每个周五：你为了证明你多努力，把电脑带回家，---没有人看你，你带回去不处理公司事情，不要做表面样子，最后坑自己
每个周五：你为了学更多知识，你电脑带回家----结果陷入周围人撇批评，家人 父母 小孩 反对你 48小时学习，牺牲睡眠时间，相处时间 --从战略角度考虑最重要

一周拿出一天时间：不学习：什么算法 什么知识 社区 统统不要。
20：30 原理手机和电脑 一定




进入客厅，做什么才能提高睡眠质量（分析过去干扰睡眠因素）


plan2：打开一下骗子就赢了。因为10秒看qq，微信消息，10s我看视频号，朋友圈内容，60秒看章节小说，3分钟看动漫 ，综艺 我赚了，我没有一切目标工作情况下没这
            不 开一下平台就是靠百亿收入，无数广告，无数讨论 背后 百亿平台，百亿商家，百亿演员，千万·帮凶，无数人等职你看你，
        因为 只完成你需要做事情，读书复盘 然后打卡。




plan2：玩疯玩够 ，因为 手机无数消息让处理，无数电影小说看，一辈子看不看，别人实时更新。根本停不下来，超过30秒，一切措施最后无效
                                  打开一下恐怖分子就赢了，你感觉没什么，陷入平台陷阱，他们目的达到了
                                 说以：在进入卧室之前 玩疯玩够 打卡一次

plan3:不要小孩出去晚时候用手机看小说，综艺，因为60分钟回来你看看根本刹不住车。
结果从心里放下失控，从早晨看到晚上。不开启。
【大脑太会安排时间来了】


这是你选择，这是擅长事情，不然你躺在床上看手机小说 10分钟，100分钟，180分钟

两害相权取其轻,看书就是不走弯路，最

因为：
下班太晚，太困，太累 我会躺在床上看手机小说 10分钟，100分钟，180分钟

所以：这是你选择，两害相权取其轻,看书就是不走弯路，
plan1：读一页书，然后拍照分享给别人，然后处理 微信上聊天记录
最后手机放到柜子里




如果出现 下班了，忙碌一天终于可用结束了，可以放松看手机。
这大脑虚假自我欺骗：过去无数次上当受骗精力你忘记一干二净。
我不困，我不累，我可以继续看也是编造的。
想想工作性质不可能，因此必须执行关闭手机流程

plan3：如果出现：我就是没有大理想，我就是享受，我就是没有毅力，就这样算拉。
请告诉自己 别人玩你跟着玩别，别人不玩，你继续玩，情况不一样。你看眼睛更疼，精力更差。
不看手机就是选择，你判断，就是你要做事情。果断执行



躺在床上危险:
为了一次性一部小说 500章节，3个动漫 13集，一个短视频你。周五一个晚上全部看 第二天周六白天一天在看，
周六一夜在看，周天白天继续看一天，周莫晚上一夜，第二天继续上班。
3天3也不睡觉眼睛盯着一处看。美好失去变成变成作死节奏，无论在大问题也解决，不是选择这个方式



忌3：付费报名群消息看一次可用吗?参加兴趣小区看一下可用吗？各种更新朋友圈消息看可用吗？
看一下代表你当前任务不清楚，疲累休息的不渴望。回家了不处理任何事情和学习 这就是要求。
打开看一次，失去运动时间机会和心情。





如果心中不自觉出现：你根本不想打开手机，但是
白天中午吃饭/晚上吃饭 /上班时间 通过不停打开手机残存习惯记忆驱动打开手机没有处理消息
你现在可用终止一次，证明心里还想下班计划，证明你在其中。你选择继续看手机来解决不良感觉，就是放大问题。


Plan2:
Plan3:

尤其是在"东数西存”，存力一体化背景下，将推动东数西存（热点区域数据计算、西部备份存储）

东数西存”，存力一体化










忌2：我高价付费课程开始了，用手机看直播合情合理 错误的，我通过学习方式打开手机就是不清楚当前任务是什么，并且看手机不高度集中，注意力打断
从战略高度思考运动第一优先级，付费课程看回放延迟。





<input maxlength="20" class="input--1Wznq placeholder--xLD8h" placeholder="添加作品标题" value="" style="outline: none;">



MDS&IKC故障切换初步达成方案
解决问题：
故障切换时候，内核客户端 trim cache 数量过大导致数据不一致问题。

解决方案

方案1：控制client 缓存数量（肖老师建议）
 优点：改造量少
 缺点 减少客户端缓存数量，有可能用户访问慢
 
方案2：尽量减少发送mds cap 数量 ，剩余的cap清理掉。【930是否合入】
 
思路：经过trim cache后的cache 数量 从几十万减少到几千到1万后。
遍历session中cap，只发送写入权限 或者引用计数不为0cap。

方案3： 延迟 reconnect + 延迟加载rejoin（用时候在构建）--暂停投入


方案4:期望 
  方案2：尽量减少发送mds cap 数量 ，剩余的cap清理掉  和延迟加载rejoin。
 
 
 




下一步行动：不在为联通流量卡续费。这个小号，不用也把



为了处理不小于reconnect阶段才能处理 kill session情况增加了


1. 小于reconnect阶段 分为2个情况
   MDSUnit 还初始化时候，请求存储到Vrank中
   MDSUnit初始化后，存储到MDSUnit中。2个变量是否重复。
   
2. 什么结构存储。
   std::<sessionFilter> session_filter 没有使用string，重载sessionFilter。重载sessionFilter成员变量存在map 
 
3. 命令返回结果 如果reply阶段 直接重试报错，改为 返回正确，修改提示。







该睡觉时候准时睡觉，
不是说有公司，宾馆，家里 免费WiFi他们24小时提供，你24看



1 阅读uv4 recover实现逻辑
2. mds快切方案讨论

1、文件inode的rstat替代方案及实现、自测

1. 提交recover mtime优化
2. 提交recover并发扫描优化


mkdir -p /var/www/html/rocky84
mount -o loop /root/Rocky-8.4-x86_64-dvd1_20220608.iso /var/www/html/rocky84/
//如果vmare的默认/dev/xx路径，不需要上传到本地
vi /etc/yum.repos.d/beegfs-local.repo
[baseos]
name=Rocky Linux $releasever - Media - BaseOS
baseurl=file:///var/www/html/rocky84/BaseOS
gpgcheck=0
enabled=1



在最近的10年中，跨越 杭州，上海，北京 三个城市，一遍不停的工作，一遍不停学习技术，

结果：一线企业没有面试过，即时面试过了， 机器学习，数据库，搜素 广告，这样 行业一犹豫错过没去。
结果：在垃圾公司，越深越深。
结果：还不如什么不做。

调整方向：2个方向：

1. 不在刷题，看看技术book，为面试bat为目标，
   参与开源社区研究，分布式数据，数据库 存储等。

2. 除去bat外，优秀人很多，读书，践行 起床，运动，基本组好。找到他们，跟从他们。





icfs-mds-batch-exec "icfs daemon mds.x dump mds" > /root/dump_mds
git fetch --all
git reset --hard origin/main
git pull 


sudo ln -s /usr/local/python2.7/python /usr/bin/python
sudo rm -rf /usr/bin/python3
sudo ln -s /usr/bin/python3.6 /usr/bin/python3


我的评价
给他任务他说全部完成，不阻挡他做学习思考东西，但是全部精力和时间告诉他

解决办法：不在好像告诉怎办，也不会他们问题，
主要任务和目标 已经告诉来哦，他渴望获取更多知识，让自己探索



这个我有sql表达式一点经验，
1. sql表达式实现 ，知乎的系列文章还是有用的 例如cmd 命令执行。这个obroot协调的

2. 后面完全靠gdb，调试的，几百多个线程函数。调试很长时间。
前提有一个很好环境。

现在普通电脑，主要还是靠看代码，单元测试看代码。




